a=function(){function Ha(e,t){L="_"+(e||J.lossst_p||"h");document.body.outerHTML="<body id=b class="+L+'>\n<div id=V>\n<div id=s style="transform:translateX(-140vh)translateY(-72vh)rotateZ(90deg)translateZ(119vh);transform-origin:142vh 72vh">\n<div id=o></div>\n<div id=pp></div>\n<div id=S></div>\n<div id=N></div>\n</div>\n</div>\n<center id=e style=\'font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw\'>\n<button id=U class=d ontouchstart="touchstart(38)" ontouchend="touchend(38)">\u2191</button>\n<button id=D class=d ontouchstart="touchstart(40)" ontouchend="touchend(40)">\u2193</button>\n<button id=F class=d ontouchstart="touchstart(37)" ontouchend="touchend(37)">\u2190</button>\n<button id=R class=d ontouchstart="touchstart(39)" ontouchend="touchend(39)">\u2192</button>\n<button id=T class=d ontouchstart="touchstart(16)" ontouchend="touchend(16)">\u2b06\ufe0e</button>\n<button id=C class=d ontouchstart="touchstart(17)" ontouchend="touchend(17)">\u2b07\ufe0e</button>\n<button id=b class=d ontouchstart="touchstart(18)" ontouchend="touchend(18)">\u21a9</button>\n<button id=q class=d ontouchstart="touchstart(82)" ontouchend="touchend(82)">\u00d7</button>\n<button id=m class=d ontouchstart="touchstart(49)" ontouchend="touchend(49)">\u21bb</button>\n<button id=Q class=d ontouchstart="touchstart(51)" ontouchend="touchend(51)">\u21ba</button>\n</center>\n<center id=t style=\'font:5vh arial,sans-serif;color:#fff;position:fixed;bottom:9vh;left:0;width:100vw\'>';
J.lossst_Ah0=1;Ia();J.lossst_w&&(U.className=D.className=F.className=R.className="");J.lossst_b&&(b.className="");J.lossst_r&&(q.className="");J.lossst_B&&(T.className="",C.className="");J.lossst_c&&(m.className="",Q.className="");setInterval("L[P+\"t\"]=++ocd_time;document.title='LOSSST: '+ocd_moves+'m, '+ocd_time+'s'",1E3);t&&(b.innerHTML+="<div style='position:fixed;font:8vh a;top:3vh;right:3vh'onclick=location=location>\u00d7")}function Aa(){var aa=la&&!ra?N:S;aa.innerHTML="";u=[];w=[];y=[];ca=
[];ra&&(K=32/I);e=ba-1;if("_l"==L)for(i=0;i<ba;i++)u[e-i]=1-i,w[e-i]=10,y[e-i]=0,ca[e-i]=-Math.PI/2;else if(ra)for(i=0;i<ba;i++)u[e-i]=-i-1,w[e-i]=~~(I/2),y[e-i]=0,ca[e-i]=-Math.PI/2;else if(J.lossst_x){var t=+J.lossst_x,k=+J.lossst_y,f=+J.lossst_z;"_h"==L&&2>u&&(f=J.lossst_z=1);if("_I"==L&&Ca&&1==la)for(i=0;i<ba;i++)u[e-i]=20,w[e-i]=10,y[e-i]=-i-1,ca[e-i]=0;else if(2>t)for(i=0;i<ba;i++)u[e-i]=t-i,w[e-i]=k,y[e-i]=f,ca[e-i]=-Math.PI/2;else if(t>ma-2)for(i=0;i<ba;i++)u[e-i]=t+i,w[e-i]=k,y[e-i]=f,ca[e-
i]=Math.PI/2;else if(2>k)for(i=0;i<ba;i++)u[e-i]=t,w[e-i]=k-i,y[e-i]=f,ca[e-i]=0;else if(k>h-2)for(i=0;i<ba;i++)u[e-i]=t,w[e-i]=k+i,y[e-i]=f,ca[e-i]=0;else for(i=0;i<ba;i++)u[e-i]=20,w[e-i]=10,y[e-i]=-i,ca[e-i]=0}else if("_h"==b.className)for(i=0;i<ba;i++)u[e-i]=20,w[e-i]=10,y[e-i]=-i-1,ca[e-i]=0;for(i=0;i<Math.max(ba+4,16);i++)aa.innerHTML+="<div id=M"+i+' class=X style="transform:translateX(50vh)translateY(50vh)translateZ(-30vh);width:'+(K-1)+"vh;height:"+(K-1)+'vh"><div class=S id=S'+i+"></div><div id=R"+
i+' class=Y><div class="c s" id=T'+i+">"+(1>i?"<div class=t>Y</div>":"")+"<div class=F>"+(1>i?"\u203f":"")+'</div><div class=U style="font-size:'+.5*K+"vh;line-height:"+.8*K+'vh">'+(1>i?"\ud83d\udc40":"")+"</div><div class=R></div><div class=L></div><div class=B>"}function Ia(){-1<navigator.userAgent.indexOf("Maci")&&(V.className="M");-1<navigator.userAgent.indexOf("Firefox")&&(V.className="f");sa&&(V.className="M");b.className=L;la&&!ra&&(S.innerHTML="");if("_l"==L)h=ma=20,ia=[],da=[],X=[],M=[],
k=[eval("["+location.hash.slice(1).replace(/[01]{2,}/g,'"$&"')+"]")],ba=k[0][1],k[0][5]=k[0][6]=8,la=!!k[0][3],P=[["Move: arrow keys<br>"+(la?"Up/Down: Shift/Ctrl<br>":"")+"backtrack: Alt<br>Reset: R",1,5,1,0,la,0]],J.lossst_pl0&&delete J.lossst_pl0,J.lossst_dl0=1;else if("_h"==L){ma=40;h=20;ia=[[13,9,0],[7,13,0],[35,8,0]];da=[[11,11,0,0,0],[2,12,0,6,0],[38,10,0,7,0]];X=[[41,10,Math.PI/2,8,0,"A",1,0,10,0,0],[20,-2,0,14,0,"D",1,10,19,0,0],[-2,11,-Math.PI/2,6,0,"J",1,14,5,1,1],[28,21,Math.PI,14,0,"C",
1,22,1,0,0],[5,21,Math.PI,5,0,"I",1,36,1,0,1]];k=[];M=[];for(e=9;15>e;e++)for(u=0;5>u;u++)2==u&&14==e||2==u&&13==e||3==u&&13==e||3==u&&12==e||2==u&&12==e||M.push([u,e]);P=[["Move with<br>arrow keys"+(sa?"":" or WASD/ZQSD"),19,5,0,13,0],["Use the "+(sa?"\u21a9":"Alt")+" key to backtrack",1,9,0,13,0,1],["Doors indicate the snake size required to open them",35,14,0,13,0],["2D puzzle editor<br>\u2193",18,8,14,0,0],["\u2191<br>New puzzles!",22,3,14,0,0],["New ! Puzzle editor with wraps<br>\u2193",19,8,
6,7,1],["\u2190<br>New puzzles!",1,9,6,7,1,1],["Full puzzle editor (2D, 3D & wraps!)<br>\u2193",19,8,7,0,1]];ja=[["\ud83d\udc3f\ufe0f",37,7]]}else if("_A"==L)ma=40,h=20,ia=[[35,15,0]],da=[[33,16,0,0,6],[34,17,0,0,6],[37,15,0,0,6]],M=[],X=[[-2,10,-Math.PI/2,8,0,"_h",0,39,11,0,0],[35,21,Math.PI,11,0,"B",1,35,1,0,0]],k=[[6,8,0,,"000000001000001110001110001000000000",2,3],[6,8,0,,"000000011000011100010000011000000000",14,3],[6,8,0,,"000000000100001100011000011100000000",26,3],[5,8,0,,"0000001110011100110000000",
2,13],[6,8,0,,"000000011000011000001100001100000000",14,13],[6,8,0,,"000000000100001100001110001100000000",26,13]],P=[["Cover the black shapes to solve puzzles",9,9,1,0],["Solve all the puzzles in the room to get new apples and open a new door",21,9,1,0],["Your progress is saved automatically",34,9,1,0]],ja=[["\ud83d\udc0c",11,10]];else if("_B"==L)sa&&(q.className="",J.lossst_r=1),ma=40,h=20,ia=[[4,7,0]],da=[[2,8,0,0,12],[3,9,0,0,12]],X=[[35,-2,0,8,0,"A",0,35,19,0,0],[-2,10,-Math.PI/2,13,0,"C",1,
39,10,0,0]],k=[[6,11,0,,"000000011110011010011110000000000000",8,2],[7,11,0,,"0000000001110000111000001100000110000010000000000",18,2],[6,11,0,,"000000011000011110001010001110000000",28,2],[6,11,0,,"000000011100001110001110001100000000",8,12],[6,11,0,,"000000001110001110001110001010000000",18,12],[6,11,0,,"000000011110011110001100001000000000",28,12]],P=[["If you get stuck, "+(sa?"click \u00d7":"press R")+" to exit a puzzle",35,11,1,0],["If a puzzle looks impossible, try another entry!",14,10,1,0]],
M=[[11,4],[21,16]],ja=[["\ud83d\udc08",4,14]];else if("_C"==L)ma=40,h=20,ia=[[35,8,0]],da=[[34,11,0,0,18]],X=[[41,10,Math.PI/2,8,0,"B",0,1,10,0,0],[22,-2,0,14,0,"_h",1,28,19,0,0]],k=[[7,13,0,,"0000000000000001111000111100001111000100000000000",2,3],[7,13,0,,"0000000001110000101000011100001110000110000000000",14,3],[6,13,0,,"000000001110011110011010001110000000",26,4],[7,13,0,,"0000000001100000111000011100001110000110000000000",2,12],[7,13,0,,"0000000000000001111100101010011111000000000000000",14,
12],[6,13,0,,"000000011000011100011110011110000000",26,12]],P=[["\u2191<br>After this room, go north to test a puzzle editor and a new kind of puzzles!",22,11,13,0,0]],M=[[17,5],[18,8],[29,7],[27,5],[27,8],[29,13],[30,13],[30,14],[18,15],[16,15],[6,13],[6,17],[7,8],[6,8],[5,8],[3,7],[3,8],[7,6],[7,5]],ja=[["\ud83e\udd8b<br><br>",29,13]];else if("_D"==L){h=ma=20;ia=[[10,2,0]];da=[];X=[[10,21,Math.PI,14,0,"_h",0,20,0,0,0],[-2,5,-Math.PI/2,14,0,"E",0,24,12,0,0]];k=[[7,14,1,,"0100010011111000000000000000000000001111100100010",
7,7]];P=[["Now you're thinking with wraps!",2,2,0,14,0]];M=[];for(e=0;20>e;e++)M.push([e,10]);ja=[["\ud83d\udc10",12,2]]}else if("_E"==L)h=ma=25,ia=[[5,12,0]],da=[[4,14,0,0,23]],X=[[26,12,Math.PI/2,14,0,"D",0,0,5,0,0],[-2,12,-Math.PI/2,15,0,"F",1,79,5,0,0]],k=[[7,14,1,,"1000001000000000000000010100011011011000111000001",15,3],[6,14,1,,"110011100001000000100001100001110011",15,17],[5,14,1,,"1100111001100011001110011",3,3],[6,14,1,,"000011000011110001110001000011000011",3,17]],P=[["Reminder:<br>use "+
(sa?"\u21a9":"Alt")+" to backtrack,<br>"+(sa?"\u00d7":"R")+" to exit a puzzle.",11,12,1,0,0]],M=[],ja=[["\ud83d\udc12",12,20]];else if("_F"==L)ma=80,h=20,ia=[[35,10,0]],da=[[38,11,0,0,35]],X=[[81,5,Math.PI/2,15,0,"E",0,0,12,0,0],[-2,15,-Math.PI/2,16,0,"G",1,19,5,0,0]],k=[[5,5,1,,"0111101001010110100011111",59,13],[5,5,1,,"1111011000111100001011110",48,13],[5,5,1,,"1111101000011110111001100",37,13],[5,5,1,,"1111110000111001000011111",26,13],[5,5,1,,"1100101101001110011101101",15,13],[5,5,1,,"1111100001110010000111111",
59,2],[5,5,1,,"1000110111100011000111111",48,2],[5,5,1,,"1000110101101011111110001",37,2],[5,5,1,,"1111110001000110000111111",26,2],[5,5,1,,"0111101100011100011011110",15,2],[5,5,1,,"1111101111001110001100001",4,8],[5,5,1,,"1010100101111010000111111",71,8]],P=[["This room hides a surprise!",72,2,0,15,0]],M=[],ja=[];else if("_G"==L)ma=20,h=30,ia=[[5,25,0]],da=[[4,24,0,0,37],[7,25,0,0,37],[2,26,0,0,37],[3,28,0,0,37]],X=[[10,31,Math.PI,16,0,"H",1,10,1,0,0],[21,5,Math.PI/2,16,0,"F",0,1,15,0,0]],k=[[6,
16,1,,"001000011000011100111111001110001000",7,6],[6,16,1,,"110001100001000111000111100001110001",7,18]],P=[],M=[],ja=[["\ud83d\udc01",9,14]];else if("_H"==L)ma=20,h=30,ia=[[16,22]],da=[[18,22,0,0,39]],X=[[10,-2,0,20,0,"G",0,10,29,0,0],[21,25,Math.PI/2,21,0,"I",1,1,10,0,0]],k=[[6,16,1,,"001000011110111111011110011110001000",7,6],[6,16,1,,"110001100001000011000111001111111111",7,18]],P=[],M=[],ja=[["\ud83e\udd86",9,14]];else if("_I"==L){ma=40;h=20;ia=[];da=[[38,2,0,5,0]];X=[[-2,10,-Math.PI/2,1,0,"H",
0,19,25,0,0],[36,-2,0,6,0,"_h",1,5,19,0,1]];k=[];P=[["Guess what, you finished the first half of the game!",5,9,1,0],["Little snake can move up and down with "+(sa?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl keys")+", and open black doors",30,9,1,0]];M=[];for(e=0;7>e;e++)M.push([31,e]);for(e=31;40>e;e++)M.push([e,6]);ja=[["\ud83d\udc22",13,14]]}else"_J"==L?(ma=15,h=70,ia=[[2,62]],da=[[2,65,0,0,47],[1,66,0,0,47]],X=[[16,5,Math.PI/2,6,0,"_h",0,1,11,0,1],[-2,65,-Math.PI/2,8,0,"K",1,19,65,0,1]],k=
[[5,5,0,"0000000000000000000001110",,2,2],[4,5,0,"0000000001000110",,4,11],[5,5,0,"0000000000000000101001110",,6,20],[5,5,0,"0000000000000000111000100",,8,29],[4,5,0,"0000000001100110","0000011001100000",2,38],[4,5,0,"0000010001100100","0000011001100000",4,47],[4,5,0,"0000011001000100","0000010001100000",6,56],[4,5,0,"0000000001100110","0100011000100000",8,65]],P=[["You now have to match the patterns on the walls...",10,2,1,0,1],["... and on the floor too!",10,40,1,0,1]],M=[],ja=[["\ud83e\udd89",
10,14]]):"_K"==L?(sa&&(m.className=Q.className="",J.lossst_c=1),ma=20,h=75,ia=[[2,2]],da=[[1,4,0,0,59],[2,5,0,0,59],[3,6,0,0,59],[4,2,0,0,59]],X=[[21,65,Math.PI/2,7,0,"J",0,1,65,0,1],[-2,5,-Math.PI/2,12,0,"L",1,14,5,0,1]],k=[[5,5,0,"0000000000010000110001110",,8,69],[6,5,0,"000000000000000000000100001110011000",,12,58],[5,5,0,"0000000000010000111001000",,2,58],[4,5,0,"0000001001100110","0000001001100000",2,45],[5,5,0,"0000000000000000010001110","0000000100001100110000000",12,45],[5,5,0,"0000000000000000101001110",
"0000001110010100000000000",2,34],[5,5,0,"0000000000000000011001100","0000001110011000010000000",12,34],[4,5,1,"0000011001100110","0110000000000110",2,22],[4,5,1,"1001000000001001","1001000000001001",12,22],[4,5,1,"0000010011110010","0000111101100000",2,12],[4,5,1,"0110010000000011","0000011100110000",12,12],[4,5,1,"1101000000000001","1101000000010001",12,2]],P=[["You can rotate the camera with "+(sa?"<br>\u21bb and \u21ba":"the keys 1, 2 and 3"),15,68,1,0,1],["Can you imagine what's coming next?",
7,54,1,0,1],["Yep... 3D puzzles with wrap! Use "+(sa?"\u2b06\ufe0e and \u2b07\ufe0e":"Shift and Ctrl")+" to wrap between top and bottom",7,24,1,0,1]],M=[],ja=[["\ud83d\udc1e",3,70]]):"_L"==L?(ma=15,h=80,ia=[[2,70]],da=[[1,73,0,0,68],[3,75,0,0,68]],X=[[16,5,Math.PI/2,12,0,"K",0,1,5,0,1],[-2,75,-Math.PI/2,14,0,"M",1,14,25,0,1]],k=[[5,5,0,"0000000000001001111100100",,2,2],[4,5,0,"0000010001100000",,5,11],[5,5,0,"0000000110000110111000010",,8,20],[5,5,0,"0000000000001000111011111","0000000000111001111100000",
2,29],[4,5,0,"1000110011101111","0000001111110000",5,38],[4,5,0,"0000100011001110","1110110010000000",8,45],[4,5,1,"1000100110010001","0000100110010000",2,54],[4,12,1,"0000001011110100","0000110011110011",5,63],[5,12,1,"0100011000010000111001000","0000001110110000100000000",8,72]],P=[],M=[[6,12]],ja=[["\ud83d\udc1d",3,20]]):"_M"==L?(ma=15,h=30,ia=[[10,12]],da=[[8,11,0,0,71],[9,10,0,0,71],[10,9,0,0,71],[11,10,0,0,71],[12,11,0,0,71],[13,12,0,0,71]],X=[[16,25,Math.PI/2,14,0,"L",0,1,75,0,1],[-2,5,-Math.PI/
2,20,0,"N",1,14,5,0,1]],k=[[5,14,1,"0001100110011001100010000","0001100110011001100010000",2,24],[5,5,1,"1100010001000011000111000","0000011000110010000000000",4,13],[5,5,1,"1101110001000001000011000","1100010000000001000111011",6,2]],P=[],M=[],ja=[["\ud83d\udc13",1,14]]):"_N"==L&&(ma=15,h=48,ia=[[10,44]],da=[[7,45,0,0,75]],X=[[16,5,Math.PI/2,20,0,"M",0,1,5,0,1]],k=[[4,20,1,"0000111101101111","1000111111111000",5,38],[4,20,1,"1111001001001111","1111101010101111",5,28],[4,20,1,"1111010101011101","0001101101101111",
5,18],[4,20,1,"1111000100011110","1111110110011111",5,8]],P=[],M=[],ja=[["\ud83d\udc09",13,46]]);s.style.width=ma*K+"vh";s.style.height=h*K+"vh";o.innerHTML="";pp.innerHTML="";for(var e in ia)o.innerHTML+="<div id=t"+e+' class="e u" style="left:'+ia[e][0]*K+"vh;transform:translateX(-9vh)translateY("+(ia[e][1]*K+4)+'vh)rotateX(-75deg)">\ud83c\udf33</div><div id=u'+e+' class="q x" style="left:'+ia[e][0]*K+"vh;transform:translateX(-9vh)translateY("+(ia[e][1]*K+4)+'vh)rotateZ(144deg)scaleY(1.5)">\ud83c\udf33';
for(e in da)J["lossst_a"+L+e]?delete da[e]:o.innerHTML+="<div id=a"+e+' class="e a '+(J["lossst_A"+L+e]?"":"d")+'" style="left:'+da[e][0]*K+"vh;transform:translateY("+(da[e][1]*K+4)+'vh) rotateX(-65deg)">'+("N"==L?"<div>\u26bd</div>":"<div class=E>\ud83c\udf4e</div>")+"</div><div id=A"+e+' class="q A '+(J["lossst_A"+L+e]?"":"d")+'" style="left:'+da[e][0]*K+"vh;transform:scaleX(-1)translateY("+(da[e][1]*K+3)+'vh)rotateZ(212deg)">'+("N"==L?"\u26bd":"\ud83c\udf4e");for(e in ja)o.innerHTML+='<div class="e n" style="left:'+
ja[e][1]*K+"vh;transform:translateY("+(ja[e][2]*K+4)+'vh) rotateX(-65deg)"><div class=E>'+ja[e][0]+'</div></div><div class="q N" style="left:'+ja[e][1]*K+"vh;transform:scaleX(-1)translateY("+(ja[e][2]*K+3)+'vh)rotateZ(212deg)">'+ja[e][0];for(e in X)o.innerHTML+="<div id=d"+(""+L+e)+' class="d '+(J["lossst_d"+L+e]?"o":"")+'" style="left:'+(X[e][0]+.5)*K+"vh;top:"+(X[e][1]+.5)*K+"vh;transform:rotateZ("+X[e][2]+"rad)translateZ("+X[e][9]*K+'vh)"><div class="r d'+X[e][10]+'">'+X[e][3]+"</div><div class=p>";
for(var t in k)for(var u in M)J["lossst_p"+L+t]&&M[u][0]>=k[t][5]&&M[u][0]<k[t][5]+k[t][0]&&M[u][1]>=k[t][6]&&M[u][1]<k[t][6]+k[t][0]&&delete M[u];for(e in M)o.innerHTML+="<div id=cube"+e+' class="c k" style="left:'+M[e][0]*K+"vh;top:"+M[e][1]*K+'vh;width:7.2vh;height:7.2vh"><div class=F></div><div class=U style="background-position:'+(-300-M[e][0]*K)+"vh "+(-140-M[e][1]*K)+'vh"></div><div class=R></div><div class=left>';for(e in P)la^P[e][5]||!(P[e][3]&&P[e][3]<=ba||P[e][4]&&P[e][4]>=ba)||(o.innerHTML+=
"<div id=h"+(""+L+e)+' class=h style="left:'+(P[e][1]*K+1)+"vh;transform:translateY("+(P[e][2]*K+4)+"vh)translateZ("+(P[e][6]*K||0)+'vh)rotateX(-70deg)translateY(-4vh)">'+P[e][0]+"</div>");for(t in k){I=k[t][0];var f="",w="";t.innerHTML+="<div id=p"+t+' class="c w v '+(k[t][2]&&!J["lossst_p"+L+t]?"W":"")+'" style="left:'+k[t][5]*K+"vh;top:"+k[t][6]*K+"vh;width:"+k[t][0]*K+"vh;height:"+I*K+'vh">'+(k[t][2]?"<div class=L></div><div class=R></div>":"")+"<div id=D"+t+" class=D></div><div id=B"+t+" class=B></div>"+
(k[t][2]?"<div class=F>":"");var y="000",ca="fff";J["lossst_p"+L+t]&&(y="44c",ca="fd0");for(e=0;e<I;e++)for(u=0;u<I;u++)k[t][3]&&(f+="<div class=C id=w"+t+e+u+" style='width:"+K+"vh;height:"+K+"vh;background:#"+("1"==k[t][3][e*I+u]?y:ca)+"'></div>"),k[t][4]&&(w+="<div class=C id=g"+t+e+u+" style='width:"+K+"vh;height:"+K+"vh;background:#"+("1"==k[t][4][e*I+u]?y:ca)+"'></div>");self["D"+t]&&(self["D"+t].innerHTML+=w);self["B"+t]&&(self["B"+t].innerHTML+=f)}"_N"==L&&(o.innerHTML+="<div style='position:fixed;transform:rotateZ(-90deg)translateX(-113vh)translateY(22vh)translateZ(317vh);font:30vh/30vh a'>THE<br><br>END");
"_h"!=L||J.lossst_x?(s.style.transition="transform 1s,transform-origin 1s",Aa()):(ua=1,setTimeout('resetsnake();movesnake();M0.style.transition="transform .5s"',2E3),setTimeout("snakex.push(snakex[head]);snakey.push(snakey[head]);snakez.push(0);snakeangle.push(snakeangle[head]);head++;movesnake()",4500),setTimeout("M0.style.transition='';S0.style.transition=R0.style.transition='transform .2s';S0.style.transform=R0.style.transform='rotateZ("+-Math.PI/4+"rad)'",5E3),setTimeout("S0.style.transform=R0.style.transform='rotateZ("+
Math.PI/4+"rad)'",5500),setTimeout("S0.style.transform=R0.style.transform=''",6E3),setTimeout("b.innerHTML+=\"<div style='position:fixed;font:8vh a;top:3vh;right:3vh' onclick=location=location>\u00d7\";s.style.transition='transform 1s,transform-origin 1s';S0.style.transition=R0.style.transition='';lock=0;L[P+\"x\"]=20;L[P+\"y\"]=10;if(mobile){U.className=D.className=F.className=R.className='';L[P+\"w\"]=1}",9E3));movesnake()}function Da(aa){s.style.transform="translateX(-"+u[e]*K+"vh)translateY(-"+
w[e]*K+"vh)translateZ(15vh)rotateX(40deg)rotateZ("+aa+"rad)"}var J=localStorage,Ca=0,la=+J.lossst_s||0,sa=+J.lossst_m||0,Ea=+J.lossst_t||0,Ba=+J.lossst_M||0,K=7,e=0,u=[],w=[],y=[],ca=[],ba=J.lossst_S=+J.lossst_S||5,ra=0,wa=1,Fa=r=d=l=n=c=B=0,ua=0,ia=[],da=[],X=[],M=[],P=[],ja=[],k=[],ka=null,na="e",oa=[],pa=[],za=0,xa=0,va=0,qa=0,ea=0,fa=0,I=0,Ga=+J.lossst_T||0,ya=0,ta=0,ha=0,L="",ma=h=0;editor=function(){qa=la=0;Y.disabled=1;J.lossst_e||J.lossst_s&&6<J.lossst_S||(G.style.opacity=g.style.opacity=
0,G.style.position=g.style.position="fixed",G.style.top=g.style.top="-9vh");ka=0;ra=1;k=[[5,5,0,0,0,0,0]];z.value=Z.value=ba=5;G.checked=!0;za=1;self.x&&(x.checked=!1);self.a&&(W.checked=!1);G.onclick=function(){G.checked?za=1:self.x&&(za=0,xa=1,x.checked=!0)};self.x&&(x.onclick=function(){self.x&&x.checked?(xa=1,la=k[0][3]=1):(xa=la=0,za=1,G.checked=!0,k[0][3]=0)});self.a&&(W.onclick=function(){va=k[0][2]=W.checked||0});pa=[];oa=[];Z.onchange=Z.oninput=function(){v.innerHTML=ba=+Z.value;Aa();movesnake();
qa=0;Y.disabled=1;for(i=0;i<I;i++)for(j=0;j<I;j++)self["ge"+i+j].style.background=oa[i][j]?"#000":"#fff",self["we"+i+j].style.background=pa[i][j]?"#000":"#fff"};I=5;(A.onclick=z.onchange=z.oninput=resizegrid=function(){qa=0;Y.disabled=1;gridval.innerHTML=I=+z.value;k[0][0]=I;var e=100/I;H.innerHTML="";ghtml=whtml=E.innerHTML="";pa=[];oa=[];for(i=0;i<I;i++)for(pa[i]=[],oa[i]=[],j=0;j<I;j++)pa[i][j]=0,oa[i][j]=0;for(i=0;i<I;i++)for(j=0;j<I;j++)whtml+="<div class=C id=w"+na+i+j+" style='width:"+e+"%;padding-top:"+
e+"%' onmousedown='paint("+i+","+j+",this,0)' onmousemove='paint("+i+","+j+",this,0,1)'></div>",ghtml+="<div class=C id=g"+na+i+j+" style='width:"+e+"%;padding-top:"+e+"%' onmousedown='paint("+i+","+j+",this,1)' onmousemove='paint("+i+","+j+",this,1,1)'></div>";H.innerHTML+=ghtml;E.innerHTML+=whtml;Aa();movesnake()})();paint=function(e,t,u,f,k){if(!wa&&(mousedown&&(qa=0,Y.disabled=1),u=f?oa:pa,k&&mousedown?u[e][t]=1:k||(u[e][t]^=1),!k||mousedown))for(e=0;e<I;e++)for(t=0;t<I;t++)self["ge"+e+t].style.background=
oa[e][t]?"#000":"#fff",self["we"+e+t].style.background=pa[e][t]?"#000":"#fff"};print=function(e){var t="";for(i in e)for(j in e[i])t+=e[i][j];return t};Y.onclick=function(){var e=[];e.push(I);e.push(Z.value);e.push(self.a&&W.checked?1:0);e.push(self.x&&x.checked?print(pa):"");e.push(ground.checked?print(oa):"");window.open("//twitter.com/intent/tweet?text=I%20made%20a%20level%20for%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere!%0Ahttp%3A%2F%2Fjs13kgames.com%2Fentries%2Flossst/index.html%23"+
e)};mousedown=0;onmousedown=function(){mousedown=1};onmouseup=function(){mousedown=0};ondragstart=function(e){e.preventDefault()};wa=0;test.onclick=function(){wa=1;b.className="l P";qa=0;Y.disabled=1;for(i=0;i<I;i++)for(j=0;j<I;j++)self["ge"+i+j].style.background=oa[i][j]?"#000":"#fff",self["we"+i+j].style.background=pa[i][j]?"#000":"#fff"};O.onclick=function(){wa?(wa=0,b.className="l",Aa(),movesnake(),checkgrid()):location="index.html"};s.style.transform="rotateX(38deg)translateX(-18vh)"};mainmenu=
function(){1<location.hash.length?Ha("l"):(b.innerHTML="<center id=e>\ud83d\udc40</center>\n<center id=X></center>\n<div id=V style=perspective:30vh>\n<center id=menu>\n<h1>LOSSST</h1><span onclick=a()>New game</span><br>"+(J.lossst_start?(J.lossst_ended?"":"<span onclick=index(0,1)>Continue</span><br>")+"<span onclick=location='e.htm'>Puzzle editor</span><br>":"")+"<span onclick=\"location='//twitter.com/search?q=%23LOSSSTjs13k'\">Twitter levels</span><br><span onclick=location='//xem.github.io/articles#js13k17'>Making of</span><br><span onclick=location='//maximeeuziere.itch.io'>Other games",
a=function(){for(i in localStorage)0==i.indexOf("lossst")&&-1==i.indexOf("e")&&delete localStorage[i];J.lossst_start=1;menu.innerHTML="<br><br><span onclick=intro(0)>Desssktop</span><br><br><span onclick=intro(1)>Mobile"},intro=function(e){J.lossst_m=sa=e;J.lossst_S=ba=5;Ea=J.lossst_t=0;Ba=J.lossst_M=0;J.lossst_M=0;J.lossst_t=0;menu.innerHTML="";setTimeout("e.style.margin=0",500);dir=1;inter=setInterval("e.style.opacity=0;setTimeout('e.style.opacity=1;dir=-dir;e.style.transform=`scaleX(`+dir+`)`',150)",
3E3);setTimeout("X.innerHTML=`I lossst my kid!`",2E3);setTimeout("X.innerHTML=``",5E3);setTimeout("clearInterval(inter);e.style.margin='-80vh 0 0'",7E3);setTimeout(Ha,7500)},movesnake=function(aa){for(f=0;f<ba;f++){if(!aa){var t=oldx=oldy=oldz=newx=newy=newz=0;va&&I&&(u[e-f-1]==ea&&u[e-f]==ea+I-1?(t=1,oldx=ea-1,newx=ea+I,oldy=newy=w[e-f],oldz=newz=y[e-f]):u[e-f-1]==ea+I-1&&u[e-f]==ea?(t=1,oldx=ea+I,newx=ea-1,oldy=newy=w[e-f],oldz=newz=y[e-f]):w[e-f-1]==fa&&w[e-f]==fa+I-1?(t=1,oldy=fa-1,newy=fa+I,
oldx=newx=u[e-f],oldz=newz=y[e-f]):w[e-f-1]==fa+I-1&&w[e-f]==fa?(t=1,oldy=fa+I,newy=fa-1,oldx=newx=u[e-f],oldz=newz=y[e-f]):0==y[e-f-1]&&y[e-f]==I-1?(t=1,oldz=-1,newz=I,oldx=newx=u[e-f],oldy=newy=w[e-f]):y[e-f-1]==I-1&&0==y[e-f]&&(t=1,oldz=I,newz=-1,oldx=newx=u[e-f],oldy=newy=w[e-f]));if(t)self["R"+f].style.transform="rotateZ("+ca[e-f]+"rad)",self["M"+f].style.transform="translateX("+(oldx*K+.5)+"vh)translateY("+(oldy*K+.5)+"vh)translateZ("+(oldz*K+.5)+"vh)scale(.01)scaleZ(.01)",setTimeout("M"+f+
".style.transition='none'",150),setTimeout("M"+f+".style.transform=`translateX(${"+newx+"*sidesize+.5}vh)translateY(${"+newy+"*sidesize+.5}vh)translateZ(${"+newz+"*sidesize+.5}vh)scale(.01)`",175),setTimeout("M"+f+".style.transition='';M"+f+".style.transform=`translateX(${snakex["+(e-f)+"]*sidesize+.5}vh)translateY(${snakey["+(e-f)+"]*sidesize+.5}vh)translateZ(${snakez["+(e-f)+"]*sidesize+.5}vh)`",200);else try{self["M"+f].style.transform="translateX("+(u[e-f]*K+.5)+"vh)translateY("+(w[e-f]*K+.5)+
"vh)translateZ("+(y[e-f]*K+.9)+"vh)",self["R"+f].style.transform="rotateZ("+ca[e-f]+"rad)"}catch(Ja){}try{self["S"+f].style.display=0==y[e-f]?"":"none"}catch(Ja){}}ra||"undefined"===typeof s||(null===ka||J["lossst_p"+L+ka]?(s.style.transform="translateX("+-u[e]*K+"vh)translateY("+-w[e]*K+"vh)translateZ(15vh)rotateX(40deg)",s.style.transformOrigin=""+u[e]*K+"vh "+w[e]*K+"vh"):(s.style.transform="translateX("+(-(ea+k[ka][0]/2)*K+5)+"vh)translateY("+(-(fa+k[ka][0]/2)*K+8)+"vh)translateZ("+(60-k[ka][0]*
(K+3))+"vh)rotateX(30deg)",s.style.transformOrigin=""+((ea+k[ka][0]/2)*K+5)+"vh "+((fa+k[ka][0]/2-1)*K+8)+"vh"))}aa=la?1:0;for(f=0;f<ba;f++){if(0>=y[e-f]){aa=0;break}for(P in M)M[P][0]==u[e-f]&&M[P][1]==w[e-f]&&1==y[e-f]&&(aa=0)}if(aa){for(f=0;f<ba;f++)y[e-f]--;try{movesnake()}catch(Ja){for(var P=2*ba;P--;)u.pop(),w.pop(),y.pop(),ca.pop(),e--;ya=0;movesnake()}}aa=u[e];t=w[e];for(var f in X)(X[f][10]&&la||!X[f][10]&&!la)&&self["d"+L+f]&&0<X[f][3]&&ba>=X[f][3]&&4>Math.hypot(aa-X[f][0],t-X[f][1])&&(self["d"+
L+f].className="d o",J["lossst_d"+L+f]=1),self["d"+L+f]&&"d o"==self["d"+L+f].className&&2>Math.hypot(aa-X[f][0],t-X[f][1])&&("l"==L?setTimeout('location="index.html"',600):(J.lossst_p=L=X[f][5],setTimeout(Ia,600),J.lossst_x=X[f][7],J.lossst_y=X[f][8],J.lossst_z=0));if(!ra)for(p in null!==ka&&checkgrid(),ka=null,oa=[],pa=[],k)if(aa>=k[p][5]&&aa<k[p][5]+k[p][0]&&t>=k[p][6]&&t<k[p][6]+k[p][0]){ka=+p;qa=0;J["lossst_p"+L+p]&&(qa=1);na=p;za=!!k[p][4];xa=!!k[p][3];va=!!k[p][2];ea=k[p][5];fa=k[p][6];I=k[p][0];
for(f=0;f<I;f++)for(oa[f]=[],pa[f]=[],P=0;P<I;P++)k[p][3]&&(pa[f][P]=+k[p][3][f*k[p][0]+P]),k[p][4]&&(oa[f][P]=+k[p][4][f*k[p][0]+P]);checkgrid()}},checkmove=function(aa,t,K){ha=0;if(ra&&wa){if(-5>aa||aa>I+3||-2>t||t>I)ha=1}else if(0>aa||aa>=ma||0>t||t>=h)ha=1;for(var f in ia)aa>=ia[f][0]-1&&aa<=ia[f][0]&&t==ia[f][1]&&(ha=1);for(f in P)aa>=P[f][1]&&aa<=P[f][1]+3&&t==P[f][2]&&ba>=P[f][3]&&(!P[f][4]||ba<=P[f][4])&&(la&&P[f][5]||!la&&!P[f][5])&&(ha=1);for(f in da)if(J["lossst_A"+L+f]&&aa==da[f][0]&&
t==da[f][1])if("N"==L){ua=1;setTimeout("move_scene(Math.PI/2);A0.remove();a0.style.transform='translateY(319vh)translateZ(2vh)rotateX(-65deg)rotateY(90deg)';a0.style.transition=s.style.transition='10s';a0.style.transform='translateY(15vh)translateZ(2vh)rotateX(-65deg)';s.style.transform='translateX(-207vh)translateY(-320vh)translateZ(-300vh)rotateX(0deg)rotateZ(1.5708rad)'",200);for(f in k)setTimeout("B"+f+".style.transition='.5s';B"+f+".style.transform='translateY(-125%)'",[1450,2500,3900,5500][f]);
setTimeout("clearInterval(int_time);L[P+\"ended\"]=1;L[P+\"e\"]=1;b.style.background='#000';b.innerHTML='<div id=V style=perspective:90vh><center id=menu style=width:75vh;transform:translateX(-38vh)translateY(-35vh)rotateX(-28deg)><span style=font-size:4vh;line-height:5vh><h1>Congrats!</h1><br>You completed the game in<br>'+ocd_time+' seconds and '+ocd_moves+' moves!<br><br><a href=https://twitter.com/intent/tweet?text=I%20played%20LOSSST,%20a%20%23js13k%20game%20by%20by%20@MaximeEuziere%0Amy%20score:%20'+ocd_time+'%20seconds%20and%20'+ocd_moves+'%20moves!%0Ahttp%3A%2F%2Fjs13kgames.com%2Fentries%2Flossst target=_blank style=color:#def;font-size:4vh>TWEET YOUR SCORE</a><br><br>Dev record:<br>1786 seconds, 3461 moves<br><br>You can now create 3D puzzles<br>in the editor!<br><br><a href=index.html style=font-size:4vh>RETURN TO TITLE SCREEN</a>'",
15E3)}else delete da[f],self["a"+f].remove(),self["A"+f].remove(),ba++,J.lossst_S=ba,J["lossst_a"+L+f]=1,"F"==L&&16==ba&&(Ca=ua=1,s.style.transition="5s",s.style.transform="translateX(-256vh)translateY(-95vh)translateZ(-400vh)rotateX(0deg)rotateZ(180deg)",setTimeout("s.style.transition='1s';lock=easteregg=0;movesnake()",1E4));for(f in M)aa==M[f][0]&&t==M[f][1]&&0==K&&(ha=1);for(f in ja)"C"!=L&&aa==ja[f][1]&&t==ja[f][2]&&0==K&&(ha=1);for(f in X)self["d"+L+f]&&"d o"==self["d"+L+f].className&&2>=Math.hypot(aa-
X[f][0],t-X[f][1])&&(ha=0);for(f=ba-2;0<f;f--)u[e-f]==aa&&w[e-f]==t&&y[e-f]==K&&(ha=1);for(p in k)k[p][3]&&aa>=k[p][5]&&aa<k[p][5]+k[p][0]&&(t==k[p][6]-1&&w[e]==k[p][6]&&!k[p][2]||t==k[p][6]&&w[e]==k[p][6]-1)&&(ha=1);if("I"==L&&18==aa&&!la){Ca=la=ua=ha=1;J.lossst_s=1;J.lossst_S=ba=5;for(f=0;21>f;f++)M.push([u[e-f],w[e-f]]),self["M"+f].id="",self["R"+f].id="",self["S"+f].id="",self["T"+f].id="";s.style.transition="2s";Aa();movesnake();s.style.transform="translateX(-142vh)translateY(-70vh)translateZ(80vh)rotateX(45deg)";
s.style.transformOrigin="140vh 70vh";setTimeout("snakex.push(snakex[head]);snakey.push(snakey[head]);snakez.push(0);snakeangle.push(snakeangle[head]);head++;movesnake()",3E3);setTimeout("t.innerHTML='Daddy!'",4E3);setTimeout("t.innerHTML=''",6E3);setTimeout("t.innerHTML='I lossst my soccer ball!'",7E3);setTimeout("t.innerHTML=''",9E3);setTimeout("t.innerHTML='But I found new moves!'",1E4);setTimeout("t.innerHTML='';easteregg=lock=0;s.style.transition='1s';movesnake();checkapple();if(mobile){T.className=C.className='';L[P+\"B\"]=1}",
13E3)}},checkgrid=function(){if(!qa&&null!==ka){solved=1;for(i=0;i<I;i++)for(t=0;t<I;t++)self["g"+na+i+t]&&(self["g"+na+i+t].style.background=oa[i][t]?"#000":"#fff"),self["w"+na+i+t]&&(self["w"+na+i+t].style.background=pa[i][t]?"#000":"#fff");if(!(u[e]<ea||u[e]>ea+I-1||w[e]<fa||w[e]>fa+I-1||0>y[e]||y[e]>I-1)){for(i=0;i<ba;i++){self["g"+na+(w[e-i]-fa)+(u[e-i]-ea)]&&(self["g"+na+(w[e-i]-fa)+(u[e-i]-ea)].style.background=oa[w[e-i]-fa][u[e-i]-ea]?"#080":"#f00");w[e-i]>=fa&&w[e-i]<fa+I&&self["w"+na+(I-
1-y[e-i])+(u[e-i]-ea)]&&(self["w"+na+(I-1-y[e-i])+(u[e-i]-ea)].style.background=pa[I-1-y[e-i]][u[e-i]-ea]?"#080":"#f00");if(u[e-i]<ea||u[e-i]>ea+I-1||w[e-i]<fa||w[e-i]>fa+I-1||0>y[e-i]||y[e-i]>I-1)solved=0;za&&oa[w[e-i]-fa]&&!oa[w[e-i]-fa][u[e-i]-ea]&&(solved=0);xa&&pa[I-1-y[e-i]]&&!pa[I-1-y[e-i]][u[e-i]-ea]&&(solved=0)}for(i=0;i<I;i++)for(t=0;t<I;t++){try{za&&3==self["g"+na+i+t].style.backgroundColor.match(/0/g).length&&(solved=0)}catch(Ka){}try{xa&&3==self["w"+na+i+t].style.backgroundColor.match(/0/g).length&&
(solved=0)}catch(Ka){}}if(solved){qa=1;ra&&setTimeout('Y.disabled=0;playing=puzzling=0;b.className="l";for(i=exithead;i<=head;i++){snakex.pop();snakey.pop();snakez.pop();snakeangle.pop();}head=exithead-1;exithead=0;movesnake()',1E3);self["p"+ka].classList.remove("W");J["lossst_p"+L+ka]=1;for(i=0;i<I;i++)for(t=0;t<I;t++)self["g"+na+i+t]&&(self["g"+na+i+t].style.background=oa[i][t]?"#44c":"#fd0"),self["w"+na+i+t]&&(self["w"+na+i+t].style.background=pa[i][t]?"#44c":"#fd0");Ga++;J.lossst_T=Ga;var aa=
1,t;for(t in M)M[t][0]>=k[ka][5]&&M[t][0]<k[ka][5]+k[ka][0]&&M[t][1]>=k[ka][6]&&M[t][1]<k[ka][6]+k[ka][0]&&(delete M[t],aa++,setTimeout('self["cube'+t+'"].remove()',200*aa))}}}},checkapple=function(){for(var e in da)!J["lossst_A"+L+e]&&(0<da[e][3]&&da[e][3]==ba||0<da[e][4]&&da[e][4]==Ga)&&(ua=1,sa&&"_h"==L&&1==e&&(b.className="",J.lossst_b=1),setTimeout('s.style.transform="translateX("+(-apples['+e+'][0]*sidesize)+"vh)translateY("+(-apples['+e+'][1]*sidesize)+"vh)translateZ(-15vh)rotateX(40deg)";L[P+"appleappeared"+pagename+"'+
e+'"]=1;s.style.transformOrigin=""+(apples['+e+'][0]*sidesize)+"vh "+(apples['+e+'][1]*sidesize)+"vh";self["apple"+'+e+'].className="e apple";self["A"+'+e+'].className="q A"',250),setTimeout("movesnake();lock=0",2E3))},testinbounds=function(){ta=0;ra||(ka=null);for(p in k)u[e]>=k[p][5]&&u[e]<k[p][5]+k[p][0]&&w[e]>=k[p][6]&&w[e]<k[p][6]+k[p][0]&&0<=y[e]&&y[e]<k[p][0]&&(ka=+p,ta=1)},onkeydown=function(k){self["lurd************************l**r************l*d***u**u"[k.which-37]]=1;18==k.which&&(B=1);
16==k.which&&(n=1);17==k.which&&(c=1);ua||(49!=k.which&&97!=k.which||Da(-1.2),50!=k.which&&98!=k.which||Da(0),51!=k.which&&99!=k.which||Da(1.2));testinbounds();ta?checkgrid():ya=0;if(82==k.which&&ta){if(ya<=e)for(var t=ya;t<=e;t++)u.pop(),w.pop(),y.pop(),ca.pop();e=ya-1;ya=0;movesnake();checkgrid();J.lossst_M=++Ba;document.title="LOSSST: "+Ba+"m, "+Ea+"s"}else if(116!=k.which&&82!=k.which&&17!=k.which&&123!=k.which&&k.preventDefault&&k.preventDefault(),wa&&!ua){ha=0;if(l)!qa&&va&&ta&&u[e]==ea?(checkmove(ea+
I-1,w[e],y[e]),ha||(u.push(ea+I-1),w.push(w[e]),y.push(y[e]),ca.push(Math.PI/2),e++)):(checkmove(u[e]-1,w[e],y[e]),ha||(u.push(u[e]-1),w.push(w[e]),y.push(y[e]),ca.push(Math.PI/2),e++));else if(r)!qa&&va&&ta&&u[e]==ea+I-1?(checkmove(ea,w[e],y[e]),ha||(u.push(ea),w.push(w[e]),y.push(y[e]),ca.push(-Math.PI/2),e++)):(checkmove(u[e]+1,w[e],y[e]),ha||(u.push(u[e]+1),w.push(w[e]),y.push(y[e]),ca.push(-Math.PI/2),e++));else if(Fa)!qa&&va&&ta&&w[e]==fa?(checkmove(u[e],fa+I-1,y[e]),ha||(u.push(u[e]),w.push(fa+
I-1),y.push(y[e]),ca.push(Math.PI),e++)):(checkmove(u[e],w[e]-1,y[e]),ha||(u.push(u[e]),w.push(w[e]-1),y.push(y[e]),ca.push(Math.PI),e++));else if(d)!qa&&va&&ta&&w[e]==fa+I-1?(checkmove(u[e],fa,y[e]),ha||(u.push(u[e]),w.push(fa),y.push(y[e]),ca.push(0),e++)):(checkmove(u[e],w[e]+1,y[e]),ha||(u.push(u[e]),w.push(w[e]+1),y.push(y[e]),ca.push(0),e++));else if((la||xa)&&n){if(!ta){k=ba-1;for(t in M)M[t][0]==u[e]&&M[t][1]==w[e]&&k++;if(y[e]==k)return}!qa&&va&&ta&&y[e]==I-1?(checkmove(u[e],w[e],0),ha||
(u.push(u[e]),w.push(w[e]),y.push(0),ca.push(ca[e]),e++)):(checkmove(u[e],w[e],y[e]+1),ha||(u.push(u[e]),w.push(w[e]),y.push(y[e]+1),ca.push(ca[e]),e++))}else(la||xa)&&c?!qa&&va&&ta&&0==y[e]?(checkmove(u[e],w[e],I-1),ha||(u.push(u[e]),w.push(w[e]),y.push(I-1),ca.push(ca[e]),e++)):0==y[e]?ha=1:(checkmove(u[e],w[e],y[e]-1),ha||(u.push(u[e]),w.push(w[e]),y.push(y[e]-1),ca.push(ca[e]),e++)):B&&e>ba&&(ca.pop(),u.pop(),w.pop(),y.pop(),e--);if(!ha&&!Ca&&(Fa||r||d||l||s||c||B)){J.lossst_M=++Ba;ra||(document.title=
"LOSSST: "+Ba+"m, "+Ea+"s");checkgrid();movesnake();ra&&wa&&checkgrid();movesnake(1);checkapple();ua||(ua=1,setTimeout("lock=0",150));if("_h"==L&&(la||14<=ba)&&20==u[e]&&10==w[e]){ua=1;for(t=k=0;t<ba;t++)k--,setTimeout("snakex.push(snakex[head]);snakey.push(snakey[head]);snakez.push("+k+");snakeangle.push(snakeangle[head]);head++;movesnake()",150*t);setTimeout("location='e.htm'",100*t);J.lossst_x=20;J.lossst_y=10}testinbounds();ta&&!ya&&(ya=ra?ba:e)}}},onkeyup=function(){Fa=r=d=l=n=c=B=0})}};



Music=function(){MM=new function(){if(window.AudioContext){var a=this,p=new AudioContext,q=p.createScriptProcessor(4096,0,1),r=p.sampleRate/48E3,t=Math.pow,m=Math.sin,v=Math.random,d=2*Math.PI,e=function(f){var a=0;return function(c){a+=t(2,c/12)*r;a>d&&(a-=d);return f(a)}},w=e(function(a){return m(a)+.6*v()}),x=e(function(a){return a/d-.5}),y=e(function(a){return a/d-.5}),z=e(function(a){return a/d-.5+3*t(m(a),5)}),h=1,c=-1,u=0;q.onaudioprocess=function(f){f=f.outputBuffer.getChannelData(0);for(var d=
0;d<f.length;d++){h+=a.t/r;u+=.001/r;1<=h&&(--h,c++);var e=1-h,k=0,n=0;if(64>c%128){var l=[3,4,4,4,3,4,0,-3,0,null,null,0,null,null,0,null,3,4,4,4,3,4,0,-3,0,12,null,12,12,null,null,null];var g=[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,-1,0,0,0,-1,0,-5,-8,-5,null,null,-5,null,null,-5,null,null]}else l=[6,7,7,7,6,5,4,2,-5,null,null,7,null,null,null],g=[null,null,null,null,-10,-5,null,null,null,-10],n=-5;var b=l.length;b=l[c%b];null!=b&&(k+=x(-81+b+24)*e*a.p);
b=g.length;b=g[c%b];null!=b&&(k+=y(-81+b+24+.05*m(u))*e*a.p);g=[0,null,null,0,7,9,null,7];b=g.length;l=[null,12,null,12,12,null,12,null];b=(3>(c/b&3)?g:l)[c%b];null!=b&&(k+=z(-81+b+n-.05*m(u))*a.a*e);n=(1-h+(c&1))/2;2==(c&2)&&(k+=w(-70+60*t(n,15))*a.b*e*v());f[d]=k}};q.connect(p.destination);a.stop=function(){q.disconnect()};a.b=.1;a.p=.2;a.a=.2;a.t=1.1E-4}}};Music();