/* All */

* {
  margin: 0;
  padding: 0;
  font: 2.5vh/5.5vh calibri, arial;
  vertical-align: middle;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  user-select: none;
  -moz-user-select: none;
  cursor: pointer;
}

html, body {
  height:100%;
  background: radial-gradient(#def 25%,#7ec0ee);
  overflow: hidden;
}

input, button {
  position: relative;
  z-index: 2;
}

input[type=range]::-webkit-slider-runnable-track,
input[type=range]::-webkit-slider-thumb {
  background: #888;
  border: 1px solid #000;
}

input[type=range]::-moz-range-track,
input[type=range]::-moz-range-thumb {
  background: #888;
  border: 1px solid #000;
}

#perspective {
  width: 0;
  height: 0;
  perspective: 80vh;
  position: absolute;
}

.editor #perspective {
  top: 60vh;
  left: 50vw;
}

.hub #perspective {
  top: 50vh;
  left: 50vw;
}

#perspective * {
  transform-style: preserve-3d;
}


#scene {
  width: 0;
  height: 0;
  transform-origin: 18vh 0%;
  transition: 1s;
}

.editor #scene {
  transform: rotateX(80deg) translateX(-18vh);
}


/**************************************************************/

/* Cubes */

.cube {
  position: absolute;
  top: 0;
  left: 0;
}

.cube > div {
  width: 100%;
  height: 100%;
  position: fixed;
}

.cube .up {
  transform: rotateY(90deg) translateX(-100%) rotateY(-90deg)
}

.cube .down {
  transform: rotateY(-180deg)
}

.cube .left {
  transform: rotateX(-90deg) translateY(-50%) translateX(-50%) rotateY(-90deg)
}

.cube .right {
  transform: rotateX(-90deg) translateY(-50%) translateX(50%) rotateY(90deg)
}

.cube .front {
  transform: translateY(50%) rotateX(-90deg) translateY(-50%)
}

.cube .back {
  transform: translateY(-50%) rotateX(-90deg) translateY(-50%) rotateY(180deg)
}

.cube.wrap {
  width: 32vh;
  height: 32vh;
  pointer-events: none;
  transform: none;
}

.cube.wrap > div {
  background: none;
  pointer-events: none;
}

.cube.wrap .left {
  transform: rotateX(-90deg) translateY(-50%) translateX(-52%) rotateY(-90deg);
}

.cube.wrap .right {
  transform: rotateX(-90deg) translateY(-50%) translateX(52%) rotateY(90deg);
}

.cube.wrap .front {
  transform: translateY(52%) rotateX(-90deg) translateY(-50%);
}

#back {
  transform: translateY(-50%) rotateX(-90deg) translateY(-52%);
  transition: .5s;
}

#down {
  background: darkgreen;
  transform: none;
  transition: .5s;
}

.snakecubemove, .snakecuberotate {
  transform-origin: 50% 50%;
  width: 100%;
  height: 100%;
  transition: .15s;
  position: absolute;
}

.snakecuberotate {
  transition: none;
}

.cube.snake {
  width: 100%;
  height: 100%;
}

.cube.snake > div {
  background: #FFA500;
  border: 1px solid #000;
  text-align: center;
}

.cube.snake .up {
  background: #dF8500;
}

.cube.snake .front {
  font-weight: bold;
  line-height: 4vh;
}

.cube.snake .tongue {
  background: none;
  border: none;
  color: red;
  font-size: 5vh;
  text-align: center;
  transform: rotateZ(180deg) translateY(-4.5vh) translateZ(2.5vh);
}

.snakeshadow {
  position: absolute;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,.25);
  transform: translateX(11%) translateY(11%) translateZ(-.2vh);
}

/**************************************************************/

/* Editor */

label {
  display: inline-block;
  width: 22%;
}

button {
  float: left;
  width: 23%;
  border: .2vh solid #000;
  margin: 1vh 2% 0 0;
}

input[type=range] {
  width: 60%;
}

#form {
  width: 50vh;
  margin: auto;
}

.cell {
  float: left;
  outline: .4vh solid #888;
  background: #fff;
  opacity: 0;
  transition: opacity .5s;
  pointer-events: all;
}

#ground:checked ~ * #down .cell, #wall:checked ~ * #back .cell {
  opacity: 1;
}

#wrap:checked ~ * .wrap > div {
  background: linear-gradient(45deg, rgba(200,200,200,.25), rgba(200,200,200,.5));
}

.editor .grass {
  width: 250vh;
  height: 150vh;
  background: radial-gradient(#4F8D2F,#136321);
  border-radius: 50%;
  transform: translateX(-110vh) translateY(-50vh) translateZ(-5vh);
}

.editor .sun {
  width: 30vh;
  height: 30vh;
  background: radial-gradient(#ee0 30%, transparent 60%);
  transform: rotateX(-76deg) translateY(-20vh) rotateY(40deg);
  position: absolute;
  left: 30vh;
  top: -40vh;
}

.tree {
  font: 19vh/24vh a;
  position: absolute;
  transform-origin: 50% 100%;
  transform: translateX(-8vh) translateY(-21vh) rotateX(-75deg);
}

.treeshadow {
  color: rgba(0,0,0,.002);
  text-shadow: 0px 0px rgba(0,0,0,.25);
  font: 19vh/19vh a;
  position: absolute;
  transform-origin: 50% 100%;
  transform: translateX(-8vh) translateY(-16vh) translateZ(2vh) rotateZ(144deg) scaleY(1.5);
}

/**************************************************************/

/* Hub */


.hub #scene {
  transition: 4s ease-in;
  width: 217vh;
  height: 216vh;
  background: radial-gradient(10vh at 50% 50%, #000 40%, transparent 50%), radial-gradient(15vh at 50% 50%, #640 40%, transparent 50%), radial-gradient(#4F8D2F,#136321);
  /* radial-gradient(20vh at 50% 0%, #def 25%, transparent 50%), radial-gradient(20vh at 0% 50%, #ff9 25%, transparent 50%), */
  
  border-radius: 10%;
}

/**************************************************************/

/* playing */

.playing input, .playing label, .playing button, .playing span, .playing br {
  display: none
}

.playing #b_rl, .playing #b_rr {
  display: block
}

.playing #quit {
  display: block;
  margin: 3vh auto 0;
  float: none;
}

.playing #perspective {
  top: 60vh
}